# Course Project: creating a tidy dataset
The R script "run_analysis.R" takes the initial dataset "Human Activity Recognition using Smartphones" and transforms it into a new tidy dataset which can be used for later analysis.

The initial dataset was obtained through experiments carried out by a group of 30 volunteers. Each person performed six activities (WALKING, WALKING UPSTAIRS, WALKING DOWNSTAIRS, SITTING, STANDING, LAYING) wearing a smartphone (Samsung Galaxy S II) on the waist. Using its embedded accelerometer and gyroscope, the scientists captured a set of signals (ex. tGravityAccMag, fBodyACCJerk-XYZ) and then estimated a set of variables from them (ex. mean(), energy(), enthropy(), etc. - SEE Code book). The initial dataset consists of the training data (70% of observations) and the test data (30% of observations), stored in different files. Activity, subjects and features (signals) labels are also stored separately. 

The R script "run_analysis.R" performs several operations on the original dataset to create an independent tidy dataset, which displays the average of each variable (only a subset of variables is used, SEE BELOW) for each activity and each subject. The new dataset is presented in the wide format and meets the tidy data principles, because it contains one variable per column and one distinct observation per row.

## How R script "run_analysis.R" works
1. Creates a temporary file to which it downloads the original data and unzips it into the newly created directory "Data" located in your working directory. 
2. Reads into R files containing features names, subjects' ID numbers for each observation, activity ID numbers for each observation, training set and test set, using the function read.table and specifying the column names with the argument col.names. For the training and test sets column names are taken from the file with features names, by extracting the relevant column and trasforming it into a character vector.
3. Assembles the training set by column-binding (function cbind()) of the subjects' ID numbers, activity ID numbers and the training set (each object has the same number of rows)
4. Assembles the test set by column-binding (function cbind()) of the subjects' ID numbers, activity ID numbers and the test set (each object has the same number of rows)
5. Merges the training and test sets (concatenates) with function rbind()
6. Extracts only the measurements on the mean and standard deviation, which were interpreted as variables "Mean value" (mean()) and "Standard deviation" (std()) estimated from the following signals: tBodyAcc-XYZ, tGravityAcc-XYZ, tBodyAccJerk-XYZ, tBodyGyro-XYZ, tBodyGyroJerk-XYZ, tBodyAccMag, tGravityAccMag, tBodyAccJerkMag, tBodyGyroMag, tBodyGyroJerkMag, fBodyAcc-XYZ, fBodyAccJerk-XYZ, fBodyGyro-XYZ, fBodyAccMag, fBodyAccJerkMag, fBodyGyroMag, fBodyGyroJerkMag. Note that "Weighted average of the frequency components" (meanFreq()) variable and additional vectors used on the angle() variable were excluded from the subset. The subset was obtained by applying the select function of the dplyr package (it is assumed that the package has been pre-installed on your computer), which matched the pattern "mean() or std()" and ignored the pattern "meanFreq or angle" in the variable names.
7. Uses descriptive activity names to name the activities in the data set. Using the function "merge()" the dataset is merged with activity labels and irrelevant columns are de-selected.  
8. Appropriately labels the dataset with descriptive variable names. Using gsub(), the variable names are modified: mistakes corrected (pattern "BodyBody" replaced with "Body"), excessive dots and brackets are removed.
9. Creates a tidy data set with the average of each variable for each activity and each subject. Using the dplyr function group_by, the dataset is split into different activity types and then subjects. Dplyr function "summarise_each" calculates the mean for each of the subjects within each activity type.
10. The resulting dataset is then exported to .txt file with a function write.table().
11. This tidy new dataset can be again read into R using the function read.table()

